#mtl
${local_namespace("toolchain.kernel-headers")}

${Package('$(TOOLCHAIN_BUILD_DIR)/linux-$(TOOLCHAIN_KERNEL-HEADERS_VERSION)', '$(TOOLCHAIN_BUILD_DIR)/linux_build', '3.10.27', "http://linux-kernel.uio.no/pub/linux/kernel/v3.0/linux-$(TOOLCHAIN_KERNEL-HEADERS_VERSION).tar.xz", "$(ROOTFS_DIR)/usr/include/linux/fs.h")}

${DownloadRule("$(TOOLCHAIN_KERNEL-HEADERS_URL)")}

${UnpackRule("$(DOWNLOAD_DIR)/$(TOOLCHAIN_KERNEL-HEADERS_FILE)", "$(TOOLCHAIN_BUILD_DIR)", "$(TOOLCHAIN_KERNEL-HEADERS_SRC_DIR)/Makefile")}

${Rule('$(TOOLCHAIN_KERNEL-HEADERS_BUILD_DIR)/include/generated/uapi/linux/version.h', "$(TOOLCHAIN_KERNEL-HEADERS_UNPACK)", rule_var_name=var_name("build"))}
	$(MKDIR) $(TOOLCHAIN_KERNEL-HEADERS_BUILD_DIR)
	KBUILD_OUTPUT=$(TOOLCHAIN_KERNEL-HEADERS_BUILD_DIR) CFLAGS="" CXXFLAGS="" $(MAKE) -C $(TOOLCHAIN_KERNEL-HEADERS_SRC_DIR) mrproper 
	KBUILD_OUTPUT=$(TOOLCHAIN_KERNEL-HEADERS_BUILD_DIR) CFLAGS="" CXXFLAGS="" $(MAKE) -C $(TOOLCHAIN_KERNEL-HEADERS_SRC_DIR) ARCH=$(KERNEL_ARCH) headers_check

${MakeRule('KBUILD_OUTPUT=$(TOOLCHAIN_KERNEL-HEADERS_BUILD_DIR) CFLAGS="" CXXFLAGS=""', 'ARCH=$(KERNEL_ARCH) INSTALL_HDR_PATH=$(ROOTFS_DIR)/usr', "$(TOOLCHAIN_KERNEL-HEADERS_SRC_DIR)", "headers_install", "$(ROOTFS_DIR)/usr/include/linux/fs.h", "$(TOOLCHAIN_KERNEL-HEADERS_BUILD)", var_name("install"))}
	
.NOTPARALLEL: